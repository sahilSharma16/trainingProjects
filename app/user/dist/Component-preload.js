//@ui5-bundle app/user/Component-preload.js
jQuery.sap.registerPreloadedModules({
"version":"2.0",
"modules":{
	"app/user/Component.js":function(){sap.ui.define(["sap/ui/core/UIComponent","sap/ui/Device","app/user/model/models"],function(e,t,i){"use strict";return e.extend("app.user.Component",{metadata:{manifest:"json"},init:function(){e.prototype.init.apply(this,arguments);this.getRouter().initialize();this.setModel(i.createDeviceModel(),"device")}})});
},
	"app/user/controller/App.controller.js":function(){sap.ui.define(["sap/ui/core/mvc/Controller"],function(n){"use strict";return n.extend("app.user.controller.App",{onInit:function(){},onPressBack:function(){window.history.back()}})});
},
	"app/user/controller/createRequest.controller.js":function(){sap.ui.define(["sap/ui/core/mvc/Controller","sap/ui/model/json/JSONModel","sap/ui/model/Filter","sap/ui/model/FilterType","sap/ui/model/FilterOperator","sap/m/MessageBox","sap/m/MessageToast","sap/m/ColumnListItem","sap/m/Input","sap/ui/dom/jquery/getSelectedText"],function(e,t,s,a,r,i,o,n,l,u){"use strict";var c=[];var d;return e.extend("app.user.controller.createRequest",{onInit:function(){var e=this;var s=new t({items:[]});this.getView().setModel(s,"formTypes");var a=new t({items:[]});this.getView().setModel(a,"formFields");var r=new t([]);this.getView().setModel(r,"inputModel");let i=this.getOwnerComponent().getModel();let o=i.bindList("/formMaster");o.requestContexts(0,Infinity).then(function(e){var t=e.map(function(e){return e.getObject()});var a=t.map(function(e){return{key:e.formName,text:e.formName}});s.setProperty("/items",a)});let n=i.bindList("/formFieldTable");n.requestContexts(0,Infinity).then(function(e){var t=e.map(function(e){return e.getObject()});a.setData({items:t})});let l=i.bindList("/raisedRequest");l.requestContexts(0,Infinity).then(function(e){var t=e.map(function(e){return e.getObject()});c=t.map(e=>e.id).sort((e,t)=>e-t);console.log("Sorted Array:",c)})},onSelectFormType:function(e){var t=e.getParameter("selectedItem").getKey();this.filterFormFields(t);this.getNextID()},filterFormFields:function(e){var s=this.getView().getModel("formFields");var a=s.getProperty("/items");var r=a.filter(function(t){return t.formType===e&&t.checkedField===true});console.log("Filtered Fields:",r);var i=new t(r);this.getView().setModel(i,"inputModel")},getNextID:function(){for(let e=1;e<=c.length;e++){if(c[e-1]!==e){d=e;break}}if(d===undefined){d=c.length+1}console.log("Next ID:",d);return d},onSubmitForm:async function(){await this.getNextID();var e=this.getView().getModel("inputModel").getData();var t={id:parseInt(d),formType:this.getView().byId("selectedFormType").getSelectedKey(),action:false,status:null};e.forEach(function(e){switch(e.paraName){case"Name":t.userName=e.value;break;case"Email":t.email=e.value;break;case"Phone":t.phoneNo=e.value;break;case"Department":t.department=e.value;break;case"Reason":t.reason=e.value;break;case"requestedAt":t.requestedAt=e.value;break;case"fromDate":t.fromDate=e.value;break;case"toDate":t.toDate=e.value;break;case"assetType":t.assetType=e.value;break;default:break}});let s=this.getView().getModel();let a=s.bindList("/raisedRequest");a.create(t);sap.m.MessageBox.success("Raised request successfully.",{title:"Success",onClose:function(e){if(e===sap.m.MessageBox.Action.OK){location.reload()}}});this.clearFields()},clearFields:function(){var e=this.getView();var t=e.findElements(true);t.forEach(function(e){if(e.setValue){e.setValue("")}if(e.setSelectedKey){e.setSelectedKey(null)}});var s=e.byId("selectedFormType");if(s){s.setSelectedKey(null)}var a=e.getModel("inputModel");if(a){a.setData([]);a.refresh(true)}var r=e.byId("formFieldTable");if(r){r.removeAllItems()}e.getModel().refresh(true)}})});
},
	"app/user/controller/displayRequest.controller.js":function(){sap.ui.define(["sap/ui/core/mvc/Controller","sap/m/MessageBox"],function(e,t){"use strict";return e.extend("app.user.controller.displayRequest",{formatter:{actionText:function(e){return e==="no"?"Taken":"Pending"},statusText:function(e){if(e===null){return"Action Required"}else if(e==="yes"){return"Approved"}else if(e==="no"){return"Rejected"}else{return""}}},onInit:function(){},onDelete:function(e){var n=e.getSource();var r=n.getParent();var o=r.getBindingContext();var i=o.getPath();var s=this.getView().getModel();t.confirm("Are you sure you want to delete this entry?",{actions:[t.Action.OK,t.Action.CANCEL],onClose:function(e){if(e===t.Action.OK){s.delete(i).then(function(){sap.m.MessageBox.success("Entry deleted successfully.")}).catch(function(){sap.m.MessageBox.error("Error deleting entry.")})}}})}})});
},
	"app/user/controller/home.controller.js":function(){sap.ui.define(["sap/ui/core/mvc/Controller"],function(e){"use strict";return e.extend("app.user.controller.home",{onInit:function(){},oncreateRequest:function(){const e=this.getOwnerComponent().getRouter();e.navTo("RoutecreateRequest")},ondisplayRequest:function(){const e=this.getOwnerComponent().getRouter();e.navTo("RoutedisplayRequest")}})});
},
	"app/user/i18n/i18n.properties":'# This is the resource bundle for app.user\n\n#Texts for manifest.json\n\n#XTIT: Application name\nappTitle=Request Management\n\n#YDES: Application description\nappDescription=An SAP Fiori application.\n#XTIT: Main view title\ntitle=Request Management\n\n#XFLD,54\nflpTitle=Request Management\n\n#XFLD,36\nflpSubtitle=enduser side\n',
	"app/user/manifest.json":'{"_version":"1.59.0","sap.app":{"id":"app.user","type":"application","i18n":"i18n/i18n.properties","applicationVersion":{"version":"0.0.1"},"title":"{{appTitle}}","description":"{{appDescription}}","resources":"resources.json","sourceTemplate":{"id":"@sap/generator-fiori:basic","version":"1.13.4","toolsId":"6e99811c-c1d0-4f7f-b6bf-ed17c8decb29"},"dataSources":{"mainService":{"uri":"odata/v4/hanaservices/","type":"OData","settings":{"annotations":[],"odataVersion":"4.0"}}},"crossNavigation":{"inbounds":{"user-Display":{"semanticObject":"user","action":"Display","title":"{{flpTitle}}","subTitle":"{{flpSubtitle}}","signature":{"parameters":{},"additionalParameters":"allowed"}}}}},"sap.ui":{"technology":"UI5","icons":{"icon":"","favIcon":"","phone":"","phone@2":"","tablet":"","tablet@2":""},"deviceTypes":{"desktop":true,"tablet":true,"phone":true}},"sap.ui5":{"flexEnabled":true,"dependencies":{"minUI5Version":"1.123.2","libs":{"sap.m":{},"sap.ui.core":{},"sap.f":{},"sap.suite.ui.generic.template":{},"sap.ui.comp":{},"sap.ui.generic.app":{},"sap.ui.table":{},"sap.ushell":{}}},"contentDensities":{"compact":true,"cozy":true},"models":{"i18n":{"type":"sap.ui.model.resource.ResourceModel","settings":{"bundleName":"app.user.i18n.i18n"}},"":{"dataSource":"mainService","preload":true,"settings":{"synchronizationMode":"None","operationMode":"Server","autoExpandSelect":true,"earlyRequests":true}}},"resources":{"css":[{"uri":"css/style.css"}]},"routing":{"config":{"routerClass":"sap.m.routing.Router","viewType":"XML","async":true,"viewPath":"app.user.view","controlAggregation":"pages","controlId":"app","clearControlAggregation":false},"routes":[{"name":"Routehome","pattern":":?query:","target":["Targethome"]},{"name":"RoutecreateRequest","pattern":"createRequest","target":["TargetcreateRequest"]},{"name":"RoutedisplayRequest","pattern":"displayRequest","target":["TargetdisplayRequest"]}],"targets":{"Targethome":{"viewType":"XML","transition":"slide","clearControlAggregation":false,"viewId":"home","viewName":"home"},"TargetcreateRequest":{"viewType":"XML","transition":"slide","clearControlAggregation":false,"viewId":"createRequest","viewName":"createRequest"},"TargetdisplayRequest":{"viewType":"XML","transition":"slide","clearControlAggregation":false,"viewId":"displayRequest","viewName":"displayRequest"}}},"rootView":{"viewName":"app.user.view.App","type":"XML","async":true,"id":"App"}}}',
	"app/user/model/models.js":function(){sap.ui.define(["sap/ui/model/json/JSONModel","sap/ui/Device"],function(e,n){"use strict";return{createDeviceModel:function(){var i=new e(n);i.setDefaultBindingMode("OneWay");return i}}});
},
	"app/user/view/App.view.xml":'<mvc:View controllerName="app.user.controller.App"\n    xmlns:html="http://www.w3.org/1999/xhtml"\n    xmlns:mvc="sap.ui.core.mvc" displayBlock="true"\n    xmlns="sap.m"\n    xmlns:f="sap.f"\n    xmlns:tnt="sap.tnt"><tnt:ToolPage id="toolPage"><tnt:header><tnt:ToolHeader id="_IDGenToolHeader1" ><Button visible="true" icon="sap-icon://nav-back" type="Transparent" id="_IDGenButton2" press="onPressBack" tooltip="Search"/><Image id="_IDGenImage1" src="./images/change-management.png" decorative="false" press="onLogoPressed" tooltip="Request Management" width="60px" height="40px"/><ToolbarSpacer id="_IDGenToolbarSpacer1" width="15px" /><Title text="Request Management System" wrapping="true" id="productName"/><ToolbarSpacer id="_IDGenToolbarSpacer2"/><Avatar id="_IDGenAvatar1" src="" displaySize="XS" press=".onAvatarPressed" tooltip="Profile"/></tnt:ToolHeader></tnt:header><tnt:mainContents><App id="app"></App></tnt:mainContents></tnt:ToolPage></mvc:View>\n\n\n',
	"app/user/view/createRequest.view.xml":'<mvc:View\n    controllerName="app.user.controller.createRequest"\n    xmlns:mvc="sap.ui.core.mvc"\n    xmlns="sap.m"\n    xmlns:core="sap.ui.core"\n    displayBlock="true"\n    height="100%"\n    busyIndicatorDelay="0"\n><OverflowToolbar id="_IDGenOverflowToolbar1" height="50px"><Title \n            id="pageHeader"\n            text="Create Request"\n            textAlign="Center"\n        /><ToolbarSpacer id="_IDGenToolbarSpacer1" /></OverflowToolbar><VBox id="_IDGenVBox" class="sapUiTinyMarginTop"><HBox id="_IDGenHBox1" class="formType"><Label id="_IDGenL" class="formTypeLabel" text="Form Type:" design="Bold"/><ComboBox\n                width="200px"\n                items="{path: \'formTypes>/items\'}"\n                selectedKey="{formTypes>/selectedKey}"\n                selectionChange=".onSelectFormType"\n                id="selectedFormType"\n            ><core:Item key="{formTypes>key}" text="{formTypes>text}" /></ComboBox></HBox></VBox><Page id="_IDGenPage1" showHeader="false"><content><Table items="{inputModel>/}" mode="None" id="formFieldTable" class="tableBorder sapUiTinyMargin"><columns><Column width="40rem"><header><Title id="title4" text="Fields" /></header></Column><Column width="50rem"><header><Title id="title5" text="Value" /></header></Column><Column width="20rem"><header><Title id="title6" /></header></Column></columns><items><ColumnListItem><cells><Text text="{inputModel>paraName}" /><Input width="200px" value="{inputModel>value}" required="true"/><Text text="{inputModel>ID}" visible="false" /></cells></ColumnListItem></items></Table><Button text="Submit" type="Emphasized" press="onSubmitForm" class="sapUiSmallMargin"></Button></content></Page></mvc:View>\n',
	"app/user/view/displayRequest.view.xml":'<mvc:View\n    controllerName="app.user.controller.displayRequest"\n    xmlns:mvc="sap.ui.core.mvc"\n    xmlns="sap.m"\n    xmlns:c="sap.ui.core"\n    displayBlock="true"\n    height="100%"\n    busyIndicatorDelay="0"\n><OverflowToolbar id="_IDGenOverflowToolbar9" height="50px"><Title id="pageHeader" text="Raised Request" textAlign="Center" /></OverflowToolbar><Page id="page" showHeader="false"><content><Table items="{/raisedRequest}" id="raisedReqTable" selectionChange="onSelect" mode="None"><columns><Column id="colID" width="7rem"><header><Label id="labelID" wrapping="true" text="ID" /></header></Column><Column id="_IDGenColumn2" width="7rem"><header><Label id="_IDGenLabel7" wrapping="true" text="Name" /></header></Column><Column id="_IDGenColumn3" width="7rem"><header><Label id="_IDGenLabel8" wrapping="true" text="Phone No." /></header></Column><Column id="reqCol" width="7rem"><header><Label id="reqType" wrapping="true" text="Request Type" /></header></Column><Column id="actionCol" width="7rem"><header><Label id="actionLabel" wrapping="true" text="Action" /></header></Column><Column id="statusCol" width="7rem"><header><Label id="statusLabel" wrapping="true" text="Status" /></header></Column><Column id="deleteCol" width="7rem"><header><Label id="delLabel" wrapping="true" text="Delete" /></header></Column></columns><items><ColumnListItem type="Active" id="item0"><cells><Text id="id1" text="{id}" /><Text id="id2" text="{userName}" /><Text id="id3" text="{phoneNo}" /><Text id="id4" text="{formType}" /><Text id="id5" text="{path: \'action\', formatter: \'.formatter.actionText\'}" /><Text id="id6" text="{path: \'status\', formatter: \'.formatter.statusText\'}" /><Button icon="sap-icon://delete" press="onDelete" /></cells></ColumnListItem></items></Table></content></Page></mvc:View>\n',
	"app/user/view/home.view.xml":'<mvc:View controllerName="app.user.controller.home"\n    xmlns:mvc="sap.ui.core.mvc" displayBlock="true"\n    xmlns="sap.m"\n\txmlns:form="sap.ui.layout.form"><GenericTile class="sapUiTinyMarginBegin sapUiTinyMarginTop tileLayout" \n        header="Create Request"  \n        press="oncreateRequest"><TileContent><ImageContent src="sap-icon://create" /></TileContent></GenericTile><GenericTile class="sapUiTinyMarginBegin sapUiTinyMarginTop tileLayout" \n        header="Display Request"\n        press="ondisplayRequest" ><TileContent  ><ImageContent src="sap-icon://checklist" /></TileContent></GenericTile></mvc:View>\n'
}});
